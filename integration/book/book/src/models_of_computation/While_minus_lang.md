# while プログラム
ここでは \(2\) つの言語として while プログラムと while minus 言語を考える。
前者はよくプログラム理論で現れるような言語であるが、後者はさらに単純化したモデルである。

# while minus lang
プログラム言語にはいろいろ種類があるが、その一部は文と呼ばれる単位を基本要素にしているものがある。
ここではそんな言語を作り、プログラム言語の一番直感的な意味の与え方を考える。

## 直感的な説明
while 言語は変数と呼ばれる何かを各文を実行するごとに更新していく。
例えば、 \(x = 0\) の状態で increment \(x\) という文を実行すると \(x\) の中身が increment され \(x = 1\) になる。
各変数がどの値になっているかという対応を環境といい、プログラムの各文はこの環境に作用していると思える。
また、 while-not-zero 文と呼ばれる分は中に特定の変数と文の並びを含んでおり、特定の変数が \(0\) になるまで文の中身を実行し続ける。

例えば reset \(y\) while-not-zero \(x\) {decrement \(x\); increment \(y\);} という文を考えてみる。
環境として \(x = 2\) が設定されている \(e\) を考える。
while プログラムは次のように動作する。
- reset \(y\) 命令を実行して \(y = 0\) とする。
- 環境 \(e\) では \(x \not = 0\) であるから while の中身を実行する
    - decrement \(x\) 命令を実行して、環境を変更し \(x = 1\) とする。
    - increment \(y\) 命令を実行して、環境を変更し \(y = 1\) とする。 
- while 文の中身がすべて実行された。再び環境のなかで \(x \not = 0\) であることからもう一度中身を実行する。
    - decrement \(x\) 命令を実行して、環境を変更し \(x = 0\) とする。
    - increment \(y\) 命令を実行して、環境を変更し \(y = 2\) とする。 
- while 文の中身がすべて実行された。環境において \(x = 0\) である。while 文の実行を終了する。

結果として \(x = 0, y = 2\) となった。

## 定義
変数の集合 \(\Lambda\) を固定しておく。
while minus 言語は次の形で与えられる。

- while minus 言語の文は以下のものとする。
    - 変数 \(s\) に対して、 increment \(s\), decrement \(s\), reset \(s\)
    - \(2\) つの変数 \(s_1, s_2\) に対して、 copy \(s_1, s_2\)
    - 変数 \(s\) と文の並び \(S\) に対して、 while-not-zero \(s\) { \(S\) }
- while 言語は文の並びのこととする。各文を ";" で区切ってあらわす。

while minus 言語に意味を与える。
各変数を自然数へ対応付ける写像を環境という。
環境 \(s\) と変数 \(x\) および自然数 \(n\) に対して、環境 \(s[x \rightarrow n]\) を、変数 \(x\) に対しては \(n\) としそれ以外の変数 \(y\) では \(s(y)\) として定める。

文 \(S\) と環境 \(e\) に対して環境 \([e]S\) を次で定める。
- \([e](\text{increment} x) = e[x \rightarrow e(x) + 1]\)
- \([e](\text{decrement} x) = e[x \rightarrow e(x) - 1]\)
- \([e](\text{reset} x) = e[x \rightarrow 0]\)
- \([e](\text{copy} x y) = e[x \rightarrow e(y)]\)
- \([e](\text{while} x (s_1; \ldots s_n;)) = e\) if \(e(x) = 0\) 
- \([e](\text{while} x (s_1; \ldots s_n;)) = ( \cdots (([e]s_1) s_2) \cdots s_n)\text{while} x (s_1; \ldots s_n)\) if \(e(x) \not = 0\)

while minus はこれで全てである。

> **Note**
> 適当に作ったから余計なものが入っていると思う。
> 具体例の部分でわかるように、copy はいらなそう。

ところでこの while-minus 言語の計算能力も気になるが、実はこれはチューリングマシンと等価であることがわかる。
