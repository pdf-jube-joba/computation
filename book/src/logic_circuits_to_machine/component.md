# 基本的な構成要素について
> **definition**
> グラフに閉路が含まれない回路を組み合わせ回路という。
> グラフに閉路が含まれる回路を順序回路と呼ぶ。

組み合わせ回路の性質の一つとして、十分な時間がたった後には出力は入力にのみ依存する、というのがある。
順序回路はそうとは限らないが、逆に過去にどのような入力をしたかによって動作が異なるため、記憶を持つといえる。

## 組み合わせ回路の構成について

> **theorem**
> どんな関数 \(f\): \(\mathbb{B}^n ^> \mathbb{B}\) に対しても、それを実現するような組み合わせ回路が存在する。
この定理は使わないかも。

ただし遅延について考えたほうがいい。
組み合わせ回路の入力から出力までの一番長いパスのことをクリティカルパスという。
このクリティカルパスの分待たないと、入力に対して意図された出力とは異なる、誤った出力が出ている可能性がある。

## 順序回路とクロックについて
順序回路の場合、つまりグラフに閉路が含まれる場合には、入力だけからはどんな出力がされるのかわからない。
ふつうの設計の中では、どんな順序回路でも検討するのではなく扱いやすいもののみ扱う。
例えば安定な状態のみ持つものなど。
ここではこれから使う RS latch と D latch と D flipflop のみ紹介いする。
また、これ以降の順序回路は、この D flipflop を合成することで作る。

この D flipflop にはクロックと呼ばれる入力がある。
回路の持つ状態の本質的な部分をすべて D flipflop に押し込め、このクロックの信号に合わせて全体の状態を切り替えるように論理回路を設計するとき、できた論理回路を同期式という。

- [ ] TODO ここに RS latch と D FlipFlop を張る。

たいていの場合はクロックは周期的に0と1を切り替わる。

## ステートマシンの論理回路による実現
ここでいうステートマシンとは、
状態を持ち、入力を受け取って状態を変化させ出力を行うもののことである。
これの定式化はいくつかある。
- Mealy machine
    - \((S: \SET, I: \SET, O: \SET, s_0: S, \delta: S \times I \partfunction S times O)\) のこととする。
    - これは出力が入力と現在の状態に依存する
- Moore machine
    - \((S: \SET, I: \SET, O: \SET, s_0: S, \delta: S \times I \partfunction S, \delta_O: S \function O)\)
    - これは出力が現在の状態にのみ依存する。

普通の論理回路自体を Mealy 型のステートマシンとみなすことは簡単だが、
ステートマシンを論理回路へ変換するほうをやりたい。
一般的な手法として、状態を持つ部分を D FlipFlop を並列にした「レジスタ」に押し込め、ほかの部分は組み合わせ回路を用いて実現するというのがある。

- [ ] TODO 図を書く。
